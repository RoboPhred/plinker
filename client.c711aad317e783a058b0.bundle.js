(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),u=r(131);t.defaultBallState=Object.freeze({position:i.VEC_ZERO,velocity:i.VEC_ZERO}),t.defaultEmitterState=Object.freeze({position:i.VEC_ZERO,rate:1e3,velocity:i.VEC_ZERO,lastEmit:0}),t.defaultBouncerState=Object.freeze({toneTriggerTimestamp:0}),t.defaultBoingServiceState=Object.freeze({tick:0,gravity:{x:0,y:9.8/u.SECOND_AS_MILLIS},fieldMin:{x:0,y:0},fieldMax:{x:1e3,y:1e3},ballsById:{},emittersById:{a:n({},t.defaultEmitterState,{id:"a",position:{x:100,y:100},velocity:{x:5,y:0},rate:1e3})},bouncersById:{b:n({},t.defaultBouncerState,{id:"b",p1:{x:300,y:50},p2:{x:300,y:150}})}})},,,function(e,t,r){"use strict";function n(e,t){return e.x*t.x+e.y*t.y}function i(e,t){return e.x*t.y-e.y*t.x}function u(e,t,r){var n=Math.min(t.x,r.x),i=Math.max(t.x,r.x),u=Math.min(t.y,r.y),a=Math.max(t.y,r.y);return e.x>=n&&e.x<=i&&e.y>=u&&e.y<=a}Object.defineProperty(t,"__esModule",{value:!0}),t.VEC_ZERO=Object.freeze({x:0,y:0}),t.VEC_X=Object.freeze({x:1,y:0}),t.constrain=function(e,t,r){return Math.min(Math.max(e,t),r)},t.add=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},t.subtract=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},t.scale=function(e,t){return{x:e.x*t,y:e.y*t}},t.length=function(e){var t=e.p1.x-e.p2.x,r=e.p1.y-e.p2.y;return Math.sqrt(t*t+r*r)},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.dotProduct=n,t.determinate=i,t.angle=function(e,t){var r=i(e,t),u=n(e,t);return Math.atan2(r,u)},t.vector=function(e,t){return{x:t*Math.cos(e),y:t*Math.sin(e)}},t.intercept=function(e,t){var r,n,i=(e.p2.y-e.p1.y)/(e.p2.x-e.p1.x),a=e.p1.y-i*e.p1.x,o=(t.p2.y-t.p1.y)/(t.p2.x-t.p1.x),l=t.p1.y-o*t.p1.x;if(o-i==0)return null;Number.isFinite(i)?Number.isFinite(o)?n=i*(r=(a-l)/(o-i))+a:(n=i*t.p1.x+a,r=t.p1.x):(n=o*e.p1.x+l,r=e.p1.x);var c={x:r,y:n};return u(c,e.p1,e.p2)&&u(c,t.p1,t.p2)?c:null}},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_TICK="boing/tick",t.tick=function(e){return{type:t.ACTION_TICK,payload:{millisElapsed:e}}},t.isTickAction=function(e){return e.type===t.ACTION_TICK}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identities=function(e){return Object.keys(e)},t.values=function(e){return Object.keys(e).map(function(t){return e[t]})}},,,,,,function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(44)),n(r(155))},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={pixelsPerMeter:96};t.default=n},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_CREATE_BOUNCER="boing/create-bouncer",t.createBouncer=function(e,r){return{type:t.ACTION_CREATE_BOUNCER,payload:{p1:e,p2:r}}},t.isCreateBouncerAction=function(e){return e.type===t.ACTION_CREATE_BOUNCER}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_MOVE_EMITTER="boing/move-emitter",t.moveEmitter=function(e,r,n){return{type:t.ACTION_MOVE_EMITTER,payload:{id:e,x:r,y:n}}},t.isMoveEmitterAction=function(e){return e.type===t.ACTION_MOVE_EMITTER}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_MOVE_BOUNCER="boing/move-bouncer",t.moveBouncer=function(e,r,n){return{type:t.ACTION_MOVE_BOUNCER,payload:{id:e,p1:r,p2:n}}},t.isMoveBouncerAction=function(e){return e.type===t.ACTION_MOVE_BOUNCER}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_EMITTER_RATE="boing/set-emitter-rate",t.setEmitterRate=function(e,r){return{type:t.ACTION_SET_EMITTER_RATE,payload:{id:e,rate:r}}},t.isSetEmitterRateAction=function(e){return e.type===t.ACTION_SET_EMITTER_RATE}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_SIZE="boing/set-size",t.setSize=function(e,r){return{type:t.ACTION_SET_SIZE,payload:{x:e,y:r}}},t.isSetSizeAction=function(e){return e.type===t.ACTION_SET_SIZE}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_GRAVITY_DIRECTION="boing/set-gravity-direction",t.setGravityDirection=function(e){return{type:t.ACTION_SET_GRAVITY_DIRECTION,payload:{angle:e}}},t.isSetGravityDirectionAction=function(e){return e.type===t.ACTION_SET_GRAVITY_DIRECTION},t.ACTION_SET_GRAVITY_POWER="boing/set-gravity-power",t.setGravityStrength=function(e){return{type:t.ACTION_SET_GRAVITY_POWER,payload:{strength:e}}},t.isSetGravityStrengthAction=function(e){return e.type===t.ACTION_SET_GRAVITY_POWER}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(158));i.default.context.lookAhead=0,t.default=i.default,t.init=function(){i.default.start(),window.testSynth=(new i.default.AMSynth).toMaster()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ballsByIdSelector=function(e){return e.services.boing.ballsById}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bouncersByIdSelector=function(e){return e.services.boing.bouncersById}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emittersByIdSelector=function(e){return e.services.boing.emittersById}},,,,,,function(e,t,r){e.exports=r(63)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(64),r(67),r(68);var u=n(r(2)),a=n(r(74)),o=i(r(78)),l=document.getElementById("root");l&&a.render(u.createElement(o.default,null),l)},,,,,function(e,t,r){var n=r(69);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(71)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(70)(!1)).push([e.i,"/*\r\nThis should be kept minimal and only provide globals\r\nor non-react component styles.\r\n*/\r\n\r\nhtml, body, #root {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n}",""])},,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(2)),a=i(r(79)),o=i(r(126)),l=i(r(153));t.default=function(){return u.createElement(a.default,null,u.createElement(o.default,null,u.createElement(l.default,null)))}},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(2)),a=r(15),o=i(r(44));t.default=function(e){var t=e.children;return u.createElement(a.ThemeProvider,{theme:o.default},u.createElement(u.Fragment,null,t))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(2)),a=r(8),o=i(r(128));t.default=function(e){var t=e.children;return u.createElement(a.Provider,{store:o.default},t)}},,function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(13),u=n(r(58)),a=n(r(129)),o=n(r(149)),l=r(152);var c=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionSanitizer:l.actionSanitizer,stateSanitizer:l.stateSanitizer,actionsBlacklist:l.actionsBlacklist})||i.compose,t=u.default(),r=i.createStore(a.default,e(i.applyMiddleware(t)));return t.run(o.default),r}();t.default=c},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(13),u=r(130),a=n(r(132)),o=i.combineReducers({boing:a.default});t.default=function(e,t){return void 0===e&&(e=u.defaultAppState),{services:o(e.services,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);t.defaultAppState=Object.freeze({services:{boing:n.defaultBoingServiceState}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECOND_AS_MILLIS=1e3},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(133)),a=r(7),o=r(17),l=i(r(134)),c=i(r(137)),s=i(r(143)),f=i(r(144)),d=i(r(145)),_=i(r(146)),p=i(r(147)),v=i(r(148)),y=u.default(l.default,c.default,s.default,f.default,d.default,_.default,p.default,v.default);t.default=function(e,t){return void 0===e&&(e=a.defaultBoingServiceState),o.isTickAction(t)&&(e=n({},e,{tick:e.tick+t.payload.millisElapsed})),y(e,t)}},,function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=u(r(45)),o=r(7),l=r(18),c=r(17);t.default=function(e,t){var r,u,s,f;if(void 0===e&&(e=o.defaultBoingServiceState),!c.isTickAction(t))return e;try{for(var d=i(l.identities(e.emittersById)),_=d.next();!_.done;_=d.next()){var p=_.value,v=e.emittersById[p];if(e.tick-v.lastEmit>=v.rate){var y=a.default();e=n({},e,{emittersById:n({},e.emittersById,(s={},s[p]=n({},e.emittersById[p],{lastEmit:e.tick}),s)),ballsById:n({},e.ballsById,(f={},f[y]=n({},o.defaultBallState,{id:y,position:v.position,velocity:v.velocity}),f))})}}}catch(e){r={error:e}}finally{try{_&&!_.done&&(u=d.return)&&u.call(d)}finally{if(r)throw r.error}}return e}},,,function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(22),u=r(23),a=r(10),o=r(142),l=r(18),c=r(7),s=r(17);t.default=function(e,t){if(void 0===e&&(e=c.defaultBoingServiceState),!s.isTickAction(t))return e;var r=t.payload.millisElapsed;return e=l.identities(e.ballsById).reduce(function(e,t){return function(e,t,r){var c=e.gravity,s=e.fieldMin,f=e.fieldMax,d=e.ballsById[t],_=a.add(d.velocity,a.scale(c,r)),p=a.add(d.position,_);if(p.x<s.x||p.x>f.x||p.y>f.y)return u.unset(["ballsById",t],e);var v={p1:d.position,p2:p},y=a.subtract(v.p1,v.p2),h=function(e,t){var r=l.values(t.bouncersById).map(function(t){var r=a.intercept(e,t);return r?{bouncerId:t.id,intercept:r}:null}).filter(o.isNotNull);return i.first(r)||null}(v,e);if(h){var b=h.bouncerId,O=h.intercept,m=e.bouncersById[b],M=a.subtract(m.p2,m.p1),g=a.angle(M,y),P=a.angle(a.VEC_X,M),S=P+(Math.PI-g),E=Math.abs(a.length(v)-a.length({p1:d.position,p2:O}));E=Math.max(E,1),p=a.add(O,a.vector(S,E)),_=a.vector(S,a.magnitude(_));var j=n({},m,{toneTriggerTimestamp:Date.now()});Object.freeze(j),Object.freeze(j.p1),Object.freeze(j.p2),e=u.set(["bouncersById",b],j,e)}var I=n({},d,{position:p,velocity:_});return Object.freeze(I),e=u.set(["ballsById",t],I,e)}(e,t,r)},e)}},,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotNull=function(e){return null!=e}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=i(r(45)),a=r(7),o=r(47);t.default=function(e,t){var r;if(void 0===e&&(e=a.defaultBoingServiceState),!o.isCreateBouncerAction(t))return e;var i=t.payload,l=i.p1,c=i.p2,s=u.default();return n({},e,{bouncersById:n({},e.bouncersById,(r={},r[s]=n({},a.defaultBouncerState,{id:s,p1:l,p2:c}),r))})}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(23),u=r(7),a=r(48);t.default=function(e,t){if(void 0===e&&(e=u.defaultBoingServiceState),!a.isMoveEmitterAction(t))return e;var r=t.payload,o=r.id,l=r.x,c=r.y,s=e.emittersById[o];if(!s)return e;var f=n({},s,{position:{x:l,y:c}});return i.set(["emittersById",o],f,e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(23),u=r(7),a=r(49);t.default=function(e,t){if(void 0===e&&(e=u.defaultBoingServiceState),!a.isMoveBouncerAction(t))return e;var r=t.payload,o=r.id,l=r.p1,c=r.p2,s=e.bouncersById[o];if(!s)return e;var f=n({},s,{p1:l,p2:c});return i.set(["bouncersById",o],f,e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(23),u=r(7),a=r(50);t.default=function(e,t){if(void 0===e&&(e=u.defaultBoingServiceState),!a.isSetEmitterRateAction(t))return e;var r=t.payload,o=r.id,l=r.rate,c=e.emittersById[o];if(!c)return e;var s=n({},c,{rate:l});return i.set(["emittersById",o],s,e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),u=r(51);t.default=function(e,t){if(void 0===e&&(e=i.defaultBoingServiceState),!u.isSetSizeAction(t))return e;var r=t.payload;return n({},e,{fieldMax:r})}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(10),u=r(7),a=r(52);t.default=function(e,t){if(void 0===e&&(e=u.defaultBoingServiceState),a.isSetGravityDirectionAction(t)){var r=t.payload.angle;return n({},e,{gravity:i.vector(r,i.magnitude(e.gravity))})}if(a.isSetGravityStrengthAction(t)){var o=t.payload.strength;return n({},e,{gravity:i.vector(i.angle(i.VEC_X,e.gravity),o)})}return e}},function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,u,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(u){return function(o){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(59),a=i(r(150));t.default=function(){return n(this,function(e){switch(e.label){case 0:return[4,u.fork(a.default)];case 1:return e.sent(),[2]}})}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(151));t.default=i.default},function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,u,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(u){return function(o){return function(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],n=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(58),u=r(59),a=r(17),o=!0;function l(e){return n(this,function(t){switch(t.label){case 0:return[4,u.put(a.tick(e))];case 1:return t.sent(),[2]}})}t.default=function(){return n(this,function(e){switch(e.label){case 0:return[4,u.takeEvery((t=10,r=Date.now(),i.eventChannel(function(e){var n=setInterval(function(){var t=Date.now(),n=t-r;e(o?10:n)},t);return function(){clearInterval(n)}})),l)];case 1:return e.sent(),[2]}var t,r})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17);t.actionsBlacklist=[n.ACTION_TICK],t.actionSanitizer=function(e){return e},t.stateSanitizer=function(e){return e}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(154));t.default=i.default},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(15)),l=r(24),c=u(r(156)),s=u(r(159)),f=l.createStyles({game:{width:"100%",height:"100%"}});t.default=o.default(f)(function(e){var t=e.classes,r=n(a.useState(!1),2),i=r[0],u=r[1],o=a.useCallback(function(){u(!0)},[u]);return i?a.createElement(s.default,{className:t.game}):a.createElement(c.default,{onStart:o})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStyles=function(e){return e}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(157));t.default=i.default},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2)),u=r(53);t.default=function(e){var t=e.onStart,r=i.useCallback(function(){u.init(),t()},[]);return i.createElement("div",null,i.createElement("button",{onClick:r},"Start"))}},,function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(160)),u=n(r(189));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(161)),l=r(10),c=u(r(162)),s=u(r(168)),f=u(r(176)),d=u(r(184));t.default=function(e){var t=e.className,r=e.onCreateBouncer,i=e.onResize,u=n(a.useState(null),2),_=u[0],p=u[1],v=n(a.useState(null),2),y=v[0],h=v[1],b=a.useCallback(function(e){p({x:e.clientX,y:e.clientY}),h({x:e.clientX,y:e.clientY}),e.stopPropagation(),e.preventDefault()},[p,h]),O=a.useCallback(function(e){h({x:e.clientX,y:e.clientY})},[h]),m=a.useCallback(function(e){if(null!=_){var t={x:e.clientX,y:e.clientY};Math.abs(l.magnitude(l.subtract(_,t)))>=50&&r(_,t),p(null),h(null),e.stopPropagation(),e.preventDefault()}},[_,p,h,r]),M=a.useRef(null),g=n(a.useState(l.VEC_ZERO),2),P=g[0],S=g[1],E=o.default(M);return E.width===P.x&&E.height===P.y||(S({x:E.width,y:E.height}),i(E.width,E.height)),a.createElement("div",{className:t,ref:M},a.createElement("svg",{width:""+E.width,height:""+E.height,viewBox:"0 0 "+E.width+" "+E.height,onPointerDown:b,onPointerMove:O,onPointerUp:m},a.createElement(d.default,{r:15,cx:E.width-35,cy:E.height-35}),a.createElement(c.default,null),a.createElement(s.default,null),a.createElement(f.default,null),_&&y&&a.createElement("line",{x1:_.x,y1:_.y,x2:y.x,y2:y.y,stroke:"darkgrey"})))}},,function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(163)),u=n(r(167));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(2)),a=i(r(164));t.default=function(e){var t=e.ballIds;return u.createElement("g",null,t.map(function(e){return u.createElement(a.default,{key:e,id:e})}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(165)),u=n(r(166));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2));t.default=function(e){var t=e.position;return i.createElement("circle",{r:3,cx:t.x,cy:t.y})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(22),u=r(54);t.default=n.connect(function(e,t){var r=t.id,n=u.ballsByIdSelector(e)[r];return i.pick(n,["position"])})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(18),u=r(54);t.default=n.connect(function(e){var t=u.ballsByIdSelector(e);return{ballIds:i.identities(t)}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(169)),u=n(r(175));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(2)),a=i(r(170));t.default=function(e){var t=e.bouncerIds;return u.createElement("g",null,t.map(function(e){return u.createElement(a.default,{key:e,id:e})}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(171)),u=n(r(174));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(53)),l=r(10),c=u(r(172)),s=new o.default.PolySynth(6,o.default.AMSynth).toMaster(),f=50,d=1e3,_=50,p=500;t.default=function(e){var t,r=e.p1,i=e.p2,u=e.toneTriggerTimestamp,o=e.onMove,v=n(a.useState(0),2),y=v[0],h=v[1];u>y&&(h(u),s.triggerAttackRelease((t=l.length({p1:r,p2:i}),((t=p-l.constrain(t,_,p))-_)/(p-_)*(d-f)+f),"32n"));var b=a.useCallback(function(e,t){o({x:e,y:t},i)},[o,i]),O=a.useCallback(function(e,t){o(r,{x:e,y:t})},[o,r]);return a.createElement("g",null,a.createElement("line",{x1:r.x,y1:r.y,x2:i.x,y2:i.y,stroke:"black"}),a.createElement(c.default,{x:r.x,y:r.y,onDrag:b}),a.createElement(c.default,{x:i.x,y:i.y,onDrag:O}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(173));t.default=i.default},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(15)),l=r(24).createStyles({rect:{cursor:"pointer"}});t.default=o.default(l)(function(e){var t=e.x,r=e.y,i=e.classes,u=e.onDrag,o=a.useRef(null),l=n(a.useState(!1),2),c=l[0],s=l[1],f=a.useCallback(function(e){o.current&&(o.current.setPointerCapture(e.pointerId),s(!0),e.stopPropagation(),e.preventDefault())},[o,s]),d=a.useCallback(function(e){if(!c)return!1;u(e.clientX,e.clientY),e.stopPropagation(),e.preventDefault()},[c]),_=a.useCallback(function(e){o.current&&(o.current.releasePointerCapture(e.pointerId),s(!1),e.stopPropagation(),e.preventDefault())},[o,s]);return a.createElement("circle",{className:i.rect,ref:o,cx:t,cy:r,r:6,fill:"darkgrey",onPointerDown:f,onPointerMove:d,onPointerUp:_})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(22),u=r(55),a=r(49);t.default=n.connect(function(e,t){var r=t.id,n=u.bouncersByIdSelector(e)[r];return i.pick(n,["p1","p2","toneTriggerTimestamp"])},function(e,t){var r=t.id;return{onMove:function(t,n){return e(a.moveBouncer(r,t,n))}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(18),u=r(55);t.default=n.connect(function(e){var t=u.bouncersByIdSelector(e);return{bouncerIds:i.identities(t)}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(177)),u=n(r(183));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(2)),a=i(r(178));t.default=function(e){var t=e.emitterIds;return u.createElement("g",null,t.map(function(e){return u.createElement(a.default,{key:e,id:e})}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(179)),u=n(r(182));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(180));t.default=function(e){var t=e.position,r=e.rate,i=e.onMove,u=e.onSetRate,l=a.useRef(null),c=n(a.useState(!1),2),s=c[0],f=c[1],d=a.useCallback(function(e){l.current&&(l.current.setPointerCapture(e.pointerId),f(!0),e.stopPropagation(),e.preventDefault())},[l,f]),_=a.useCallback(function(e){if(!s)return!1;i(e.clientX,e.clientY),e.stopPropagation(),e.preventDefault()},[s]),p=a.useCallback(function(e){l.current&&(l.current.releasePointerCapture(e.pointerId),f(!1),e.stopPropagation(),e.preventDefault())},[l,f]);return a.createElement("g",{transform:"translate("+t.x+", "+t.y+")"},a.createElement("circle",{ref:l,fill:"grey",r:5,cx:0,cy:0,onPointerDown:d,onPointerMove:_,onPointerUp:p}),a.createElement(o.default,{cx:0,cy:0,r:15,min:250,max:3e3,value:r,onChange:u}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(181));t.default=i.default},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(15)),l=r(10),c=r(24).createStyles({handle:{cursor:"pointer"}}),s=Math.PI*(1/3),f=Math.PI*(2/3),d=2*Math.PI-(f-s);function _(e,t,r){return["M",e+Math.cos(s)*r,t+Math.sin(s)*r,"A",r,r,0,1,0,e+Math.cos(f)*r,t+Math.sin(f)*r].join(" ")}function p(e,t,r,n){var i=s-d*n;return["M",e+Math.cos(i)*(r-6),t+Math.sin(i)*(r-6),"L",e+Math.cos(i)*(r+6),t+Math.sin(i)*(r+6)].join(" ")}t.default=o.default(c)(function(e){var t=e.cx,r=e.cy,i=e.r,u=e.min,o=e.max,c=e.value,f=e.classes,v=e.onChange,y=l.constrain((c-u)/(o-u),0,1),h=a.useRef(null),b=a.useRef(null),O=n(a.useState(!1),2),m=O[0],M=O[1],g=a.useCallback(function(e){b.current&&(M(!0),b.current.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation())},[b]),P=a.useCallback(function(e){if(m&&h.current){var t=h.current.getBoundingClientRect(),r={x:e.clientX-(t.left+t.width/2),y:e.clientY-(t.top+t.height/2)},n=l.angle(l.VEC_X,r),i=s-n;i<0&&(i+=2*Math.PI);var a=l.constrain(i/d,0,1);v(u+(o-u)*a),e.preventDefault(),e.stopPropagation()}},[m,h,u,o,v]),S=a.useCallback(function(e){b.current&&(M(!1),b.current.releasePointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation())},[b]);return a.createElement("g",null,a.createElement("path",{ref:h,d:_(t,r,i),stroke:"dimgrey",strokeWidth:2,fill:"none"}),a.createElement("path",{className:f.handle,ref:b,d:p(t,r,i,y),stroke:"red",strokeWidth:5,fill:"none",onPointerDown:g,onPointerMove:P,onPointerUp:S}))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(22),u=r(56),a=r(48),o=r(50);t.default=n.connect(function(e,t){var r=t.id,n=u.emittersByIdSelector(e)[r];return i.pick(n,["position","rate"])},function(e,t){var r=t.id;return{onMove:function(t,n){return e(a.moveEmitter(r,t,n))},onSetRate:function(t){return e(o.setEmitterRate(r,t))}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(18),u=r(56);t.default=n.connect(function(e){var t=u.emittersByIdSelector(e);return{emitterIds:i.identities(t)}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(185)),u=n(r(187));t.default=u.default(i.default)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(186));t.default=i.default},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,u=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=u.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(2)),o=u(r(15)),l=r(24),c=r(10),s=l.createStyles({handle:{cursor:"pointer"}});function f(e,t,r,n){return["M",e+Math.cos(n)*(r-6),t+Math.sin(n)*(r-6),"L",e+Math.cos(n)*(r+6),t+Math.sin(n)*(r+6)].join(" ")}t.default=o.default(s)(function(e){var t=e.cx,r=e.cy,i=e.r,u=e.value,o=e.classes,l=e.onChange;console.log(u);var s=a.useRef(null),d=a.useRef(null),_=n(a.useState(!1),2),p=_[0],v=_[1],y=a.useCallback(function(e){d.current&&(v(!0),d.current.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation())},[d]),h=a.useCallback(function(e){if(p&&s.current){var t=s.current.getBoundingClientRect(),r={x:e.clientX-(t.left+t.width/2),y:e.clientY-(t.top+t.height/2)},n=c.angle(c.VEC_X,r);n<0&&(n+=2*Math.PI),l(n),e.preventDefault(),e.stopPropagation()}},[p,s,l]),b=a.useCallback(function(e){d.current&&(v(!1),d.current.releasePointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation())},[d]);return a.createElement("g",null,a.createElement("circle",{ref:s,cx:t,cy:r,r:i,stroke:"grey",fill:"none",strokeWidth:2}),a.createElement("path",{ref:d,className:o.handle,d:f(t,r,i,u),stroke:"red",strokeWidth:5,fill:"none",onPointerDown:y,onPointerMove:h,onPointerUp:b}))})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(52),u=r(188);var a={onChange:i.setGravityDirection};t.default=n.connect(function(e){return{value:u.gravityDirectionSelector(e)}},a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10);t.gravitySelector=function(e){return e.services.boing.gravity},t.gravityDirectionSelector=function(e){return n.angle(n.VEC_X,t.gravitySelector(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),i=r(47),u=r(51),a={onCreateBouncer:i.createBouncer,onResize:u.setSize};t.default=n.connect(null,a)}],[[62,1,2]]]);
//# sourceMappingURL=client.c711aad317e783a058b0.bundle.js.map